{% extends "admin/layout/layout.html" %}
{% load static %}
{% load dashboard_extra %}
{% block title %}{{title}}{% endblock %}
{% block styles %}
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.11.0/css/bootstrap-tour.css">
{% endblock %}
{% block content %}
{% load tz %}
{% load humanize %}

<div class="dashboard-body">
        <div class="row">
          <div class="col-md-12 col-sm-12">

            <div class="listing-top">
              <div class="block">
                <h6>
                  <strong>Listings</strong>
                </h6>
              </div>
              
              <div class="block rgt" id="download_btn_section">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" class="form-control input-sm sugesstion_input" placeholder="Search" name="prop_search" id="prop_search" value="{{ search|default:'' }}"><button type="button" id="searchPropertyBtn" class="btn btn-primary btn-sm pl20" onclick="propertyListingSearch(1);">Search</button>
                </form>
                <div class="btns">
                  <a href="javascript:void(0)" class="btn btn-secondary btn-sm" onclick="downloadListing(1);"><i class="fas fa-download"></i> Download</a>
                <a href="/admin/listing-settings/" class="btn btn-secondary btn-sm property_setting"><i class="fas fa-wrench"></i> Setting</a>
                <a href="/admin/listing-property-info/" class="btn btn-primary btn-sm add_property"><i class="fas fa-plus"></i> Add New Listing</a>
                <a href="{% static 'admin/images/csv_template.csv' %}" class="btn btn-secondary btn-sm" download><i class="fas fa-download"></i> Download Bulk Upload CSV</a>
                <div class="upload-btn-wrapper">
                  <button class="btn btn-secondary btn-sm"><i class="fa-solid fa-upload"></i> Upload Bulk Property CSV</button>
                  <input type="file" id="bulk_upload" name="bulk_upload">
                </div>
                
                </div>
              </div>
            </div>

            <div class="listing-bottom">
              <div class="block right">
                <i class="fas fa-filter"></i> Filters
              </div>
              <div class="block" >
                <select class="select form-control" name="filter_agent" id="filter_agent" onchange="propertyListingSearch(1);">
                  <option value="">All Agents</option>
                  {% for agent in agent_list %}
                  <option value="{{ agent.id }}">{{ agent.first_name }}&nbsp;{{agent.last_name}}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="block auction-typee">
                <select class="select form-control" name="filter_auction_type" id="filter_auction_type" onchange="propertyListingSearch(1);">
                  <option value="">All Listing</option>
                  {% for item in auction_type_list %}
                    <option value="{{ item.id }}" {% if auction_id == item.id %}selected{% endif %}>{{ item.auction_type }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="block">
                <select class="select form-control" name="filter_asset_type" id="filter_asset_type" onchange="filter_property_asset_type(this, 1);">
                  <option value="">All Asset Type</option>
                  {% for asset in asset_listing %}
                  <option value="{{ asset.id }}" {% if asset_type_id == asset.id %}selected{% endif %}>{{ asset.name }}</option>
                  {% endfor %}
                </select>
              </div>
              <!--<div class="block">
                <select class="select" name="filter_property_type" id="filter_property_type" onchange="propertyListingSearch(1);">
                  <option value="">All</option>
                  {% for item in property_type_listing %}
                  <option value="{{ item.id }}">{{ item.name }}</option>
                  {% endfor %}
                </select>
              </div>-->
              <div class="block">
                <select class="select form-control" name="prop_filter_status" id="prop_filter_status" onchange="propertyListingSearch(1);">
                  <option value="">All Status</option>
                  {% if status_list %}
                  {% for item in status_list %}
                    <option value="{{ item.id }}" {% if item.id == property_details.status %}selected{% endif %} {% if item.id == status %}selected{% endif %}>{{ item.status_name }}</option>
                  {% endfor %}
                  {% endif %}
                </select>
              </div>
              <div class="block" style="min-width: 130px;">
                <select class="select form-control" name="prop_num_record" id="prop_num_record" onchange="propertyListingSearch(1);">
                  <option value="">Record per page</option>
                  <option value="10" {% if page_size == 10 %}selected{% endif %}>10 Property</option>
                  <option value="20" {% if page_size == 20 %}selected{% endif %}>20 Property</option>
                  <option value="30" {% if page_size == 30 %}selected{% endif %}>30 Property</option>
                  <option value="40" {% if page_size == 40 %}selected{% endif %}>40 Property</option>
                  <option value="50" {% if page_size == 50 %}selected{% endif %}>50 Property</option>
                </select>
              </div>
              
            </div>

            <div class="listing-table {% if auction_id == 1 or auction_id == 2 %}classic{% elif auction_id == 4 %}traditonal{% elif auction_id == 6 %}live{% elif auction_id == 7 %}highest{% else %}{% endif %}" id="tbl_property_list">
              <!-- <div class="block">
                <div class="item">
                  No.
                </div>
                <div class="item">
                  Property Name
                </div>
                <div class="item">
                  Property Type
                </div>
                {% if auction_id != 6 %}
                <div class="item">
                  {% if auction_id == 4 or auction_id == 7 %}Review Offers{% else %}Bidders{% endif %}
                </div>
                {% endif %}
                <div class="item">
                  Listing Agent
                </div>
                {% if auction_id == 4 or auction_id == 6 or auction_id == 7 %}
                {% else %}
                <div class="item">
                  Bids
                </div>
                {% endif %}
                <div class="item">
                  No. of view
                </div>
                {% if auction_id == 4 %}
                {% else %}
                  {% if auction_id == 7 %}
                    <div class="item">
                      Offer Start
                    </div>
                    <div class="item">
                      Offer End
                    </div>
                  {% else %}
                    <div class="item">
                      Bidding Start
                    </div>
                    <div class="item">
                      Bidding End
                    </div>
                  {% endif %}
                {% endif %}

                <div class="item">
                  Created Date
                </div>
                <div class="item">
                  Property Status
                </div>
                <div class="item">
                  Approval Status
                </div>

                <div class="item">
                  Action
                </div>
                
              </div> -->
              <input type="hidden" name="counter_num" id="counter_num" value="{{ sno|default:1 }}">
              <div class="" id="property_list">
                {% if property_list|length > 0 %}
                  {% if property_list|length > 3 %}
                    {% define_var property_list|length|add:'-1' as first_row %}
                    {% define_var property_list|length as second_row %}
                  {% else %}
                    {% define_var 0 as first_row %}
                    {% define_var 0 as second_row %}
                  {% endif %}
                {% for property in property_list %}
                <div class="new-listing_blocks {% if first_row > 0 and second_row > 0 %}{% if forloop.counter == first_row or forloop.counter == second_row %}last-row{% endif %}{% endif %}" data-auction-type="{{ property.sale_by_type }}" data-property="{{ property.id }}" data-index="{{ forloop.counter0|add:sno }}" rel_id="{{ property.id }}" row_id="row_id_{{ property.id }}">
                  <ul class="bottom">
                    <li>
                      Listing Agent : {{ property.broker_name }}
  
                      {% if property.domain != user_domain %}
                      <div class="connect">
                        <a href="javascript:void(0)" class="badge badge-default" data-toggle="modal" data-target="#connectchatModal" onclick="agent_chat_detail({{property.agent_id}});"><i class="fa-regular fa-comment"></i> Connect</a>
                      </div>
                      {% endif %}
                     </li>
                    {% if property.sale_by_type == 4 %}
                    
                    {% comment %}
                   
                    <li>
                      {% if property.open_house_start %}
                      <i class="fa-solid fa-calendar-days"></i> Open House Start Date |
                      <span class="convert_to_local_date_time" data-value="{{ property.open_house_start|default:'' }}"></span>
                      {% endif %}
                    </li>
                    <li>
                      {% if property.open_house_end %}&nbsp;
                      <i class="fa-solid fa-calendar-days"></i> Open House End Date |
                      <span class="convert_to_local_date_time" data-value="{{ property.open_house_end|default:'' }}"></span>
                      {% endif %}
                    </li>
                   {% endcomment %}
                    
                    <li>
                      <i class="fa-solid fa-calendar-days"></i> Listing Created |
                      <span class="convert_to_local_date_time" data-value="{{ property.created_date|default:'' }}"></span>
                    </li>
                    {% else %}
                      {% if property.sale_by_type == 7 %}
                        
                        <li>
                          <i class="fa-solid fa-calendar-days"></i> Offer Start |
                          <span class="convert_to_local_date_time" data-value="{{ property.bidding_start|default:'' }}"></span>
                        </li>

                        <li>
                          <i class="fa-solid fa-calendar-days"></i> Offer End |
                          <span class="convert_to_local_date_time" data-value="{{ property.bidding_end|default:'' }}"></span>
                        </li>
                      {% else %}
                        
                        <li>
                          <i class="fa-solid fa-calendar-days"></i> Bidding Starts |
                          <span class="convert_to_local_date_time" data-value="{{ property.bidding_start|default:'' }}"></span>
                        </li>

                        <li>
                          <i class="fa-solid fa-calendar-days"></i> Bidding Ends |
                          <span class="convert_to_local_date_time" data-value="{{ property.bidding_end|default:'' }}"></span>
                        </li>
                      {% endif %}
                      <li>
                        <i class="fa-solid fa-calendar-days"></i> Listing Created |
                        <span class="convert_to_local_date_time" data-value="{{ property.created_date|default:'' }}"></span>
                      </li>
                    {% endif %}
                 </ul>

                  <ul class="top">
                    <li>
                      <figure>
                        <img class="slide-fixed" src="{% static 'admin/images/transparent.png' %}" alt="">
                        {% if property.idx_property_image|length and property.idx_property_id %}
                          <img class="slide-img" src="{% if property.idx_property_image.upload %}{{property.idx_property_image.upload}}{% else %}{% static 'admin/images/property-default-img.png' %}{% endif %}" alt="">
                        {% else %}
                          <img class="slide-img" src="{% if property.property_image.image %}{{ aws_url }}{{ property.property_image.bucket_name }}/{{ property.property_image.image }}{% else %}{% static 'admin/images/property-default-img.png' %}{% endif %}" alt="">
                        {% endif %}
                      </figure>
                      <figcaption>
                        <div class="block-status">
                          <div class="item">
                            <span class="badge badge-info">
                              {{ property.property_type|default:'' }}
                            </span>
                          </div>
                          <div class="item">
                            <!-- <strong><label for="">Property Status</label></strong><br> -->
                            <div class="{% if is_broker == 1 %}display_status{% endif %}" id="display_status_{{ property.id }}">
                              <span class="badge {% if property.status_id == 2 %} badge-danger{% elif property.status_id == 4 %} badge-danger{% else %}badge-danger{% endif %}" style="cursor:pointer;">
                                {{ property.status }}
                              </span>
                            </div>
                            <div class="{% if is_broker == 1 %}change_status{% endif %}" id="change_status_{{ property.id }}" style="display:none;">
                              <select class="select form-control listing_change_status" name="listing_change_status" id="listing_change_status_{{ property.id }}" onchange="change_property_status({{ property.id }},this)">
                                {% if status_list %}
                                {% for item in status_list %}
                                  <option value="{{ item.id }}" {% if item.id == property.status_id %}selected{% endif %}>{{ item.status_name }}</option>
                                {% endfor %}
                                {% endif %}
                              </select>
                            </div>
                          </div>
                        </div>
                        <h6>
                          <a href="/asset-details/?property_id={{ property.id }}" target="_blank">
                            {{ property.auction_type|default:'' }}
                            <span class="blue-text" title="{{ property.name }}">{{ property.name }}</span>
                          </a>
                        </h6>
                        <p class="location">
                          <i class="fas fa-map-marker-alt"></i> {{ property.property_location }}
                        </p>
                        <div class="approval-status">
                          {% if is_broker != 1 or property.domain != user_domain %}
                            <div class="bdr">
                              <strong><label for="">Approval Status</label></strong>
                              <div class="{% if is_broker == 1 %}approval_status{% endif %}" id="approval_status_{{ property.id }}">
                                <span class="badge {% if property.is_approved %} badge-success{% else %}badge-warning{% endif %}" style="cursor:pointer;">
                                  {{ property.approval }}
                                </span>
                              </div>
                              <div class="{% if is_broker == 1 %}change_approval{% endif %}" id="change_approval_{{ property.id }}" style="display:none;">
                                <select class="select form-control listing_change_approval" name="listing_change_approval" id="listing_change_approval_{{ property.id }}" onchange="change_apporval_status({{ property.id }}, this)">
                                    <option value="1" {% if property.is_approved == True %}selected{% endif %}>Approved</option>
                                    <option value="0" {% if property.is_approved == False %}selected{% endif %}>Not Approved</option>
                                </select>
                              </div>
                            </div>
                            {% endif %}
                        </div>
                      </figcaption>
                    </li>
                    <!-- <li>
                      <div class="approval-status">
                        {% if is_broker != 1 or property.domain != user_domain %}
                          <strong><label for="">Approval Status</label></strong><br>
                          <div class="{% if is_broker == 1 %}approval_status{% endif %}" id="approval_status_{{ property.id }}">
                            <span class="badge {% if property.is_approved %} badge-success{% else %}badge-warning{% endif %}" style="cursor:pointer;">
                              {{ property.approval }}
                            </span>
                          </div>
                          <div class="{% if is_broker == 1 %}change_approval{% endif %}" id="change_approval_{{ property.id }}" style="display:none;">
                            <select class="select form-control listing_change_approval" name="listing_change_approval" id="listing_change_approval_{{ property.id }}" onchange="change_apporval_status({{ property.id }}, this)">
                                <option value="1" {% if property.is_approved == True %}selected{% endif %}>Approved</option>
                                <option value="0" {% if property.is_approved == False %}selected{% endif %}>Not Approved</option>
                            </select>
                          </div>
                          {% endif %}
                      </div>
                      <div class="block-agent">
                        <div class="brokr-nme">
                          <strong><label for="">Listing Agent</label></strong><br>
                          <span>{{ property.broker_name }}</span> - 
                          <small class="blue-text"><a href="{{ property.domain_url }}" target="_blank">{{ property.domain_url }}</a></small>
                        </div>
                        {% if property.domain != user_domain %}
                        <div class="connect">
                          <a href="javascript:void(0)" class="badge badge-success" data-toggle="modal" data-target="#connectchatModal" onclick="agent_chat_detail({{property.agent_id}});"><i class="fa-regular fa-comment"></i> Connect</a>
                        </div>
                        {% endif %}
                      </div>
                    </li> -->
                    <li>
                      <div class="action-icon" {% if forloop.first %} id="first_row_listing" {% endif %}>
                        <span class="view-list">
                          <i class="fa-solid fa-ellipsis"></i>
                          <ul>
                            <li>
                              <a href="/asset-details/?property_id={{ property.id }}" target="_blank"><i class="far fa-eye"></i> View Listing</a>
                            </li>
                            <li>
                              <a href="/admin/listing-property-info/?property_id={{ property.id }}"><i class="far fa-edit"></i> Edit Listing</a>
                            </li>
                            <li>
                              <a href="javascript:void(0)" onclick="property_delete_confirmation({{ property.id }});"><i class="fas fa-trash"></i> Delete Listing</a>
                            </li>
                            {% if property.sale_by_type == 4 or property.sale_by_type == 6 or property.sale_by_type == 7  %}
                            {% else %}
                            <li>
                              <a href="javascript:void(0)" onclick="get_listing_setting_details({{ property.id }})"><i class="fas fa-cogs"></i> Settings</a>
                            </li>
                            {% endif %}
                          </ul>
                        </span>
                      </div>
                      <ol class="circle-high">
                        {% if property.sale_by_type != 6 %}
                        <li>
                          <div class="icon"><img src="{% static 'admin/images/registered-bidders-icon.png' %}" alt=""></div>
                            {% if property.sale_by_type == 7 %}
                              <a href="{% if property.bidder_offer_count > 0 %}/admin/user-best-offer-list/?id={{ property.id }}{% else %}javascript:void(0);{% endif %}"  style="{% if property.bidder_offer_count > 0 %}cursor:pointer;{% else %}cursor: initial;{% endif %}">
                            {% elif property.sale_by_type == 4 %}
                              <a href="{% if property.bidder_offer_count > 0 %}/admin/user-traditional-offer-list/?id={{ property.id }}{% else %}javascript:void(0);{% endif %}"  style="{% if property.bidder_offer_count > 0 %}cursor:pointer;{% else %}cursor: initial;{% endif %}">
                            {% else %}
                              <a href="javascript:void(0)"  onclick="propertyBidderListingSearch({{ property.id }} ,1, '')" style="{% if property.bidder_offer_count > 0 %}cursor:pointer;{% else %}cursor: initial;{% endif %}">
                            {% endif %}
                              <h4 class=" {% if property.sale_by_type == 7 or property.sale_by_type == 4 %}badge-warning{% else %}badge-info{% endif %} bidder-badge" ><span class="total-bidder">{{ property.bidder_offer_count|default:'0' }}</span></h4>
                            </a>
                            <h6>
                              {% if property.sale_by_type == 4 or property.sale_by_type == 7 %}Review Offers{% else %}Registered Bidders{% endif %}
                            </h6>
                        </li>
                        {% endif %}
                        {% comment %}
                        <li>
                          {% if property.sale_by_type == 4 or property.sale_by_type == 6 or property.sale_by_type == 7 %}
                          {% else %}
                          <div class="icon"><img src="{% static 'admin/images/bid-placed-icon.png' %}" alt=""></div>
                            {% if property.sale_by_type == 4 %}
                              <h4 class="bids-limit">0</h4>
                            {% elif property.sale_by_type == 2 %}
                              <h4 class="bids-limit" onclick="propertyInsiderBidHistorySearch({{ property.id }} ,1, 'dutch')">{{ property.bids }}</h4>
                            {% else %}
                              <h4 class="bids-limit" onclick="propertyBidHistorySearch({{ property.id }} ,1)">{{ property.bids }}</h4>
                            {% endif %}
                          
                          {% endif %}
                            {% if property.sale_by_type == 4 or property.sale_by_type == 6 or property.sale_by_type == 7 %}
                              {% else %}
                              <h6>
                                Bids Placed
                              </h6>
                            {% endif %}
                        </li>
                        {% endcomment %}
                        {% if property.sale_by_type != 4 and property.sale_by_type != 6 and property.sale_by_type != 7 %}
                          <li>
                            <div class="icon"><img src="{% static 'admin/images/bid-placed-icon.png' %}" alt=""></div>
                              {% if property.sale_by_type == 4 %}
                                <h4 class="circle bids-limit">0</h4>
                              {% elif property.sale_by_type == 2 %}
                                <h4 class="circle bids-limit" onclick="propertyInsiderBidHistorySearch({{ property.id }} ,1, 'dutch')">{{ property.bids }}</h4>
                              {% else %}
                                <h4 class="circle bids-limit" onclick="propertyBidHistorySearch({{ property.id }} ,1)">{{ property.bids }}</h4>
                              {% endif %}
                            
                            <h6>
                              Bids Placed
                            </h6>
                          </li>
                        {% endif %}
                        {% comment %}
                        {% if property.sale_by_type == 1 or property.sale_by_type == 2 or property.sale_by_type == 4 %}
                        {% endcomment %}
                        <li>
                          <div class="icon"><img src="{% static 'admin/images/watches-icon.png' %}" alt=""></div>
                          <h4 class="bids-limit" onclick="totalPropertyWatcherSearch({{ property.id }} ,1)">
                            {{ property.no_watcher }}
                          </h4>
                          <h6>
                            Watchers
                          </h6>
                        </li>
                        {% comment %}
                        {% endif %}
                        {% endcomment %}
                        <li>
                          <!-- <div class="circle">{{ property.no_view }}</div>-->
                          <!-- <div class="circle bids-limit" onclick="totalPropertyViewSearch({{ property.id }} ,1)">{{ property.no_view }}</div>-->
                          <div class="icon"><img src="{% static 'admin/images/views-icon.png' %}" alt=""></div>
                          <h4 class="view-btn">
                            {{ property.no_view }}
                          </h4>
                          <h6>
                            Views
                          </h6>
                        </li>
                      </ol>
                    </li>
                  </ul>
                  
                       
                </div><!-- End .block-item -->
                {% endfor %}
                {% else %}

                <div class="listing-table">
                  <div class="new-listing_blocks ">
                    <ul class="bottom">
                      <li>
                        No data Available
                      </li>
                    </ul>
                    <ul class="top">
                      <li class="fullwidth">
                        <img src="{% static 'admin/images/no-data-image.png' %}" />
                      </li>
                    </ul>
                    
                  </div><!-- End .block-item -->
                </div><!-- End .create-table -->
                
                {% endif %}
              </div><!-- End .block -->
            </div><!-- End .create-table -->

            <div class="pagination">
              <ul id="prop_listing_pagination_list">
                {{ pagination_html }}
              </ul>
            </div><!-- End .pagination -->

          </div><!-- End .col-md-10 -->
        </div><!-- End .row -->
      </div><!-- End .dashboard-body -->

<div id="bidderlistModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-laptop" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Bidders List
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="{% static 'theme-2/images/default-img.png' %}" alt="" id="popup_property_image">
            </figure>
            
            <figcaption>
              <a href="" id="propertyLink" target="_blank"></a>
                <h6 id="popup_property_address">
                  M&T Bank Building
                  <span><i class="fas fa-map-marker-alt"></i> Altoona, Pennsylvania</span>
                </h6>
              </a>
            </figcaption>
            
            <div class="listing-bottom">
              <div class="block">
                <input type="hidden" name="popup_property_id" id="popup_property_id" value=""/>
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" class="form-control sugesstion_input" name="popup_bidder_popup_search" id="popup_bidder_popup_search" onkeyup="bidder_popup_search_suggesstion(this, event)"><button type="button" onclick="propertyBidderListingSearch($('#popup_property_id').val() ,1, '')" class="btn btn-primary btn-sm pl20">Search</button>
                </form> 
              </div>
              <div class="block">
                <select class="select form-control" name="popup_filter_bidder_status" id="popup_filter_bidder_status" onchange="propertyBidderListingSearch($('#popup_property_id').val() ,1, '')">
                  <option value="">Select</option>
                    <option value="1">Pending Approval</option>
                    <option value="2">Registration Approved</option>
                    <option value="3">Approval Declined</option>
                    <option value="4">Reviewed</option>
                    <option value="5">Not Reviewed</option>
                </select>
              </div>
              <div class="block" id="bidder_list_export_btn_section">
                <button type="button" class="btn btn-primary btn-sm pl20" onClick="window.location.href='/static/admin/export/Bidders_List.xls'"><i class="fas fa-file-export"></i> Export</button>
              </div>
            </div>
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <div class="default-table bidderlisttable">
              <div class="block">
                <div class="item">
                  ID
                </div>
                <div class="item">
                  Buyer Name
                </div>
                <div class="item">
                  Buyer Type
                </div>

                {% comment %} <div class="item">
                  Company
                </div> {% endcomment %}
                <div class="item">
                  Email
                </div>
                <div class="item">
                  Phone
                </div>
                <div class="item">
                  Review Status
                </div>
                <div class="item">
                  Approval Status
                </div>
<!--                <div class="item">-->
<!--                  Status-->
<!--                </div>-->
                <div class="item">
                  IP Address
                </div>
                <div class="item">
                  Registration Date
                </div>
                <div class="item">
                  Last Updated
                </div>
                <div class="item">
                  Action
                </div>
              </div>
              <div class="block sscroll" id="popup_bidder_list">


              </div>
            </div>
            <div class="pagination" id="bid_listing_pagination">
              <ul id="bid_popup_listing_pagination_list">
                {{ pagination_html }}
              </ul>
            </div><!-- End .pagination -->
          </div>

        </div>
      </div>
    </div>
  </div><!-- End .bidderlistModal -->

  <div id="bidderrecordModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
    <input type="hidden" name="bidHistoryPropertyId" id="bidHistoryPropertyId" value=""/>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Bidding Records
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="{% static 'theme-2/images/default-img.png' %}" alt="" id="bidHistoryPropertyImage">
            </figure>
            <figcaption>
              <h6 id="bidHistoryPropertyName">
                Loading...
              </h6>
              <ul>
                <li>
                  <span>Auction Type: </span><label id="bidHistoryAuctiontype" style="margin-bottom: 0; font-weight: normal;">-</label>
                </li>
                <li>
                  <span>Bid Increment: </span><label id="bidHistoryBidIncrement" style="margin-bottom: 0; font-weight: normal;">-</label>
                </li>
              </ul>
              <strong>Property Type: </strong><label id="bidHistoryPropertyType" style="margin-bottom: 0; font-weight: normal;">-</label>
            </figcaption>
            <div class="listing-bottom" id="bid_history_search_section">
              <div class="block right">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" name="search_bid_history" id="search_bid_history" class="form-control"><button type="button" id="bid_history_search_btn" class="btn btn-primary btn-sm pl20">Search</button>
                </form>
              </div>
              <div class="block">
                <button type="button" class="btn btn-primary btn-sm pl20" onClick="window.location.href='/static/admin/export/Bidders_List.xls'"><i class="fas fa-file-export"></i> Export</button>
              </div>
              <div class="block highest_bid_btn">
                <button type="button" class="btn btn-primary btn-sm pl20"><i class="fas fa-trash-alt"></i> Highest Bid</button>
              </div>
            </div>
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="table-responsive">
            <table width="100%" class="table bidderrecordTable">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Bidder Name
                  </th>
                  <th>
                    Start Bid
                  </th>
                  <th>
                    High Bids
                  </th>
                  <th>
                    Bids
                  </th>
                  <th>
                    Last Bid
                  </th>
                  <th>
                    Approval Status
                  </th>
                </tr>
              </thead>
              <tbody id="bidHistoryList">
              </tbody>
            </table>
          </div>

          <div class="pagination" id="bidHistoryPagination">
              <ul id="bidHistoryPaginationList">
                {{ pagination_html }}
              </ul>
          </div><!-- End .pagination -->

        </div>
      </div>
    </div>
  </div><!-- End .bidderrecordModal -->

  <div id="property_total_view_model" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-laptop" role="document">
    <input type="hidden" name="propertyTotalView" id="propertyTotalView" value=""/>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Property Viewer Records
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="{% static 'theme-2/images/default-img.png' %}" alt="" id="propertyTotalViewImage">
            </figure>
            <figcaption>
              <h6 id="propertyTotalViewName">
                Loading...
              </h6>
              <ul>
                <li>
                  <span>Auction Type:</span><label id="propertyTotalViewAuctiontype">-</label>
                </li>
                <li>
                  <span>Bid Increment:</span><label id="propertyTotalViewBidIncrement">-</label>
                </li>
              </ul>
            </figcaption>
            <div class="listing-bottom" id="property_total_view_search_section">
              <div class="block right">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" name="search_bid_history" id="search_property_total_view" class="form-control"><button type="button" id="property_total_view_search_btn" class="btn btn-primary btn-sm pl20">Search</button>
                </form>
              </div>
              <div class="block last">
                <button type="button" class="btn btn-primary btn-sm pl20" onClick="window.location.href='/static/admin/export/Bidders_List.xls'"><i class="fas fa-file-export"></i> Export</button>
              </div>
              
            </div>
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="table-responsive">
            <table width="100%" class="table bidderrecordTable">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Name
                  </th>
                  <th>
                    Email
                  </th>
                  <th>
                    Phone
                  </th>
                  <th>
                    Date
                  </th>
                </tr>
              </thead>
              <tbody id="propertyTotalViewPaginationListList">
              </tbody>
            </table>
          </div>

          <div class="pagination" id="propertyTotalViewPagination">
              <ul id="propertyTotalViewPaginationList">
                {{ pagination_html }}
              </ul>
          </div><!-- End .pagination -->

        </div>
      </div>
    </div>
  </div><!-- End .bidderrecordModal -->

  <div id="property_total_watcher_model" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-laptop" role="document">
    <input type="hidden" name="propertyTotalWatcher" id="propertyTotalWatcher" value=""/>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Property Watcher Records
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="{% static 'theme-2/images/default-img.png' %}" alt="" id="propertyTotalWatcherImage">
            </figure>
            <figcaption>
              <h6 id="propertyTotalWatcherName">
                Loading...
              </h6>
              <ul>
                <li>
                  <span>Auction Type:</span><label id="propertyTotalWatcherAuctiontype" style="font-weight: normal; margin-bottom: 0;">-</label>
                </li>
                <li class="bid_increment_label">
                  <span>Bid Increment:</span><label id="propertyTotalWatcherBidIncrement" style="font-weight: normal; margin-bottom: 0;">-</label>
                </li>
              </ul>
            </figcaption>
            <div class="listing-bottom" id="property_total_watcher_search_section">
              <div class="block right">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" name="search_bid_history" id="search_property_total_watcher" class="form-control"><button type="button" id="property_total_watcher_search_btn" class="btn btn-primary btn-sm pl20">Search</button>
                </form>
              </div>
              <div class="block last">
                <button type="button" class="btn btn-primary btn-sm pl20" onClick="window.location.href='/static/admin/export/Bidders_List.xls'"><i class="fas fa-file-export"></i> Export</button>
              </div>
              
            </div>
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="table-responsive">
            <table width="100%" class="table bidderrecordTable">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Name
                  </th>
                  <th>
                    Email
                  </th>
                  <th>
                    Phone
                  </th>
                  <th>
                    Date
                  </th>
                </tr>
              </thead>
              <tbody id="propertyTotalWatcherPaginationListList">
              </tbody>
            </table>
          </div>

          <div class="pagination" id="propertyTotalWatcherPagination">
              <ul id="propertyTotalWatcherPaginationList">
                {{ pagination_html }}
              </ul>
          </div><!-- End .pagination -->

        </div>
      </div>
    </div>
  </div><!-- End .AllWatcherModal -->

  <div id="emailRecordModalEmail" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Email All <span class="object-name-string" >Viewers</span>
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form action="" id="emailAllUsersForm">
          {% csrf_token %}
          <input type="hidden" id="emailPropertyid" name="property_id" value="">
          <input type="hidden" id="emailForObject" name="email_for" value="property_viewer">
          <ul class="email-bidder">
            <li>
              Email
            </li>
            <li>
              All <span class="object-name-string" >Users</span>
            </li>
            <li>
              Subject
            </li>
            <li>
              <input type="text" id="subject" placeholder="Enter email subject" name="subject" class="form-control" onkeyup="enable_disable_email_all_button()">
            </li>
            <li>
              Message
            </li>
            <li>
              <textarea name="message" id="message" placeholder="Enter message here..." rows="5" class="form-control" onkeyup="enable_disable_email_all_button()"></textarea>
            </li>
          </ul>

          <div class="clearfix pt20 right">
            <button class="btn btn-primary" id="emailAllSubmit" disabled="disabled">Send</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div><!-- End .stopbiddingModal -->

  <div id="emailRecordModalEmailWatcher" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Email All <span class="object-name-string" >Watchers</span>
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form action="" id="emailAllUsersFormWatcher">
          {% csrf_token %}
          <input type="hidden" id="emailPropertyidWatcher" name="property_id" value="">
          <input type="hidden" id="emailForObjectWatcher" name="email_for" value="watching">
          <ul class="email-bidder">
            <li>
              Email
            </li>
            <li>
              All <span class="object-name-string" >Users</span>
            </li>
            <li>
              Subject
            </li>
            <li>
              <input type="text" id="subjectWatcher" placeholder="Enter email subject" name="subjectWatcher" class="form-control" onkeyup="enable_disable_email_all_button_watcher()">
            </li>
            <li>
              Message
            </li>
            <li>
              <textarea name="message" id="messageWatcher" placeholder="Enter message here..." rows="5" class="form-control" onkeyup="enable_disable_email_all_button_watcher()"></textarea>
            </li>
          </ul>

          <div class="clearfix pt20 right">
            <button class="btn btn-primary" id="emailAllSubmitWatcher" disabled="disabled" onclick="emailPropertyTotalWatcher()">Send</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div><!-- End .stopbiddingModal -->

  <div id="emailRecordModalEmailBid" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Email All <span class="object-name-string" >Bidders</span>
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form action="" id="emailAllUsersFormBid">
          {% csrf_token %}
          <input type="hidden" id="emailPropertyidBid" name="property_id" value="">
          <input type="hidden" id="emailForObjectBid" name="email_for" value="bidder">
          <ul class="email-bidder">
            <li>
              Email
            </li>
            <li>
              All <span class="object-name-string" >Bidders</span>
            </li>
            <li>
              Subject
            </li>
            <li>
              <input type="text" id="subjectBid" placeholder="Enter email subject" name="subjectBid" class="form-control" onkeyup="enable_disable_email_all_button_bid()">
            </li>
            <li>
              Message
            </li>
            <li>
              <textarea name="messageBid" id="messageBid" placeholder="Enter message here..." rows="5" class="form-control" onkeyup="enable_disable_email_all_button_bid()"></textarea>
            </li>
          </ul>

          <div class="clearfix pt20 right">
            <button class="btn btn-primary" id="emailAllSubmitBid" disabled="disabled" onclick="emailPropertyTotalBid()">Send</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div><!-- End .stopBidEmailModal -->

  <div id="property_total_bid_model" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-md" role="document">
    <input type="hidden" name="propertyTotalBid" id="propertyTotalBid" value=""/>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0">
            Users Bid
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="{% static 'theme-2/images/default-img.png' %}" alt="" id="propertyTotalBidImage">
            </figure>
            <figcaption>
              <h6 id="propertyTotalBidName">
                Loading...
              </h6>
              <ul>
                <li>
                  <span>Auction Type: </span><label id="propertyTotalBidAuctiontype" style="margin-bottom: 0; font-weight: normal;">-</label>
                </li>
                <li>
                  <span>Bid Increment: </span><label id="propertyTotalBidBidIncrement" style="margin-bottom: 0; font-weight: normal;">-</label>
                </li>
              </ul>
              <strong>Property Type: </strong><label id="totalBidPropertyType" style="margin-bottom: 0; font-weight: normal;">-</label>
            </figcaption>
            {% comment %}
            <div class="listing-bottom" id="property_total_watcher_search_section">
              <div class="block right">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" name="search_bid_history" id="search_property_total_watcher" class="form-control"><button type="button" id="property_total_watcher_search_btn" class="btn btn-primary btn-sm pl20">Search</button>
                </form>
              </div>
              <div class="block last">
                <button type="button" class="btn btn-primary btn-sm pl20" onClick="window.location.href='/static/admin/export/Bidders_List.xls'"><i class="fas fa-file-export"></i> Export</button>
              </div>
              
            </div>
            {% endcomment %}
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="table-responsive">
            <table width="100%" class="table userbidTable">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Amount
                  </th>
                  <th>
                    IP Address
                  </th>
                  <th>
                    Date
                  </th>
                  <th>
                    Action
                  </th>
                </tr>
              </thead>
              <tbody id="propertyTotalBidPaginationListList">
              </tbody>
            </table>
          </div>

          <div class="pagination" id="propertyTotalBidPagination" style="margin: 0;">
              <ul id="propertyTotalBidPaginationList">
                {{ pagination_html }}
              </ul>
          </div><!-- End .pagination -->

        </div>
      </div>
    </div>
  </div><!-- End .Bid listing -->

<div id="confirmPropertyDeleteModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Delete Confirmation</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p class="font15 center">
                    Are you sure you want to delete this listing?
                  </p>
                  <div class="clearfix center">
                    <button class="btn btn-secondary del_prop_btn" id="del_prop_true" onclick="delete_property();">Yes</button><button class="btn btn-primary del_prop_btn" id="del_prop_false">No</button>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- End .logoutModal -->

<div id="EditLisingSettingModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Property Setting</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="row">
          <div class="col-md-12 col-sm-12">

            <form name="listing_setting_frm" id="listing_setting_frm" method="post">
              {% csrf_token %}
              <input type="hidden" name="property_id" id="property_id" value=""/>
              <input type="hidden" name="auction_id" id="auction_id" value=""/>
            <div class="">

              <div class="row">
                <div class="col-md-6 col-sm-5">
                  <div class="form-group">
                    <label>
                      Auto Approval
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group">
                    <input id="Residential" type="radio" name="auto_approval" value="1" class="css-radio auto_approval">
                    <label for="Residential" class="radio-label auto_approval_label">Yes</label>
                    &nbsp; &nbsp; &nbsp;
                    <input id="Land" type="radio" name="auto_approval" value="0" class="css-radio" checked>
                    <label for="Land" class="radio-label auto_approval_label">No</label>
                  </div>
                </div>

                <div class="col-md-6 col-sm-5">
                  <div class="form-group">
                    <label>
                      Deposit Required
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Is deposit required?</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group">
                    <input id="is_deposit_required_yes" type="radio" name="is_deposit_required" value="1" class="css-radio">
                    <label for="is_deposit_required_yes" class="radio-label is_deposit_required_label">Yes</label>
                    &nbsp; &nbsp; &nbsp;
                    <input id="is_deposit_required_no" type="radio" name="is_deposit_required" value="0" class="css-radio" checked>
                    <label for="is_deposit_required_no" class="radio-label is_deposit_required_label">No</label>
                  </div>
                </div>
              
                <div class="col-md-6 col-sm-5">
                  <div class="form-group" >
                    <label>
                      Show Reserve Met
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group">
                    <input id="reserve_not_met_true" type="radio" name="reserve_not_met" class="css-radio reserve_not_met" value="1" checked>
                    <label for="reserve_not_met_true" class="radio-label reserve_not_met_label">Yes</label>
                    &nbsp; &nbsp; &nbsp;
                    <input id="reserve_not_met_false" type="radio" name="reserve_not_met" class="css-radio reserve_not_met" value="0" checked >
                    <label for="reserve_not_met_false" class="radio-label reserve_not_met_label">No</label>
                  </div>
                </div>
             
                <div class="col-md-6 col-sm-5">
                  <div class="form-group">
                    <label>
                      Is Log Time Extension
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group">
                    <input id="is_log_time_extension_true" type="radio" name="is_log_time_extension" value="1" class="css-radio is_log_time_extension" value="1">
                    <label for="is_log_time_extension_true" class="radio-label is_log_time_extension_label">Yes</label>
                    &nbsp; &nbsp; &nbsp;
                    <input id="is_log_time_extension_false" type="radio" name="is_log_time_extension" value="0" class="css-radio is_log_time_extension" value="0" checked>
                    <label for="is_log_time_extension_false" class="radio-label is_log_time_extension">No</label>
                  </div>
                </div>
              
                <div class="col-md-6 col-sm-5">
                  <div class="form-group">
                    <label for="" class="">
                      Timer Flash <span class="text-danger">*</span>
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group timer">
                    <input type="number" class="form-control" onkeypress="return isNumber(event)" name="timer_flash" min="1" id="timer_flash" placeholder="Timer flash" value="" maxlength="10" onkeydown="if(this.value.length==10 && event.keyCode!=8) return false;">
                    <div class="tagline">Minutes</div>
                  </div>
                </div>
             
                <div class="col-md-6 col-sm-5">
                  <div class="form-group">
                    <label for="" class="">
                      Log Time Extension <span class="text-danger">*</span>
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group timer">
                    <input type="number" class="form-control" name="log_time_extension" min="1" id="log_time_extension" onkeypress="return isNumber(event)" placeholder="Log Time Extension" value="" maxlength="10" onkeydown="if(this.value.length==10 && event.keyCode!=8) return false;">
                    <div class="tagline">Minutes</div>
                  </div>
                </div>
              
                <div class="col-md-6 col-sm-5"> 
                  <div class="form-group"> 
                    <label for="" class="">
                      When to start adding <span class="text-danger">*</span>
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7">
                  <div class="form-group timer">
                    <input type="number" min="1" class="form-control" name="remain_time_to_add_extension" id="remain_time_to_add_extension" onkeypress="return isNumber(event)" placeholder="When To Start Adding" value="" maxlength="10" onkeydown="if(this.value.length==10 && event.keyCode!=8) return false;">
                    <div class="tagline">Minutes</div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-md-6 col-sm-5 bid_limit_section">
                  <div class="form-group">
                    <label for="bid_limit" class="lh46">
                      Bid Limit <span class="text-danger">*</span>
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7 bid_limit_section">
                  <div class="form-group bid-limit">
                    <span class="dollar">$</span>
                    <input type="number" class="form-control" name="bid_limit" id="bid_limit" placeholder="Bid Limit" min="0" onkeypress="return isNumber(event)" value="" maxlength="10" onkeydown="if(this.value.length==10 && event.keyCode!=8) return false;">
                  </div>
                </div>

                <div class="clearfix"></div>
                <div class="col-md-6 col-sm-5 deposit_amount_section">
                  <div class="form-group">
                    <label for="deposit_amount" class="lh46">
                      Deposit Amount <span class="text-danger">*</span>
                      <div class="tooltipp"><i class="fas fa-question-circle"></i>
                        <span class="tooltipp__content right banner-tool">Help text</span>
                      </div>
                    </label>
                  </div>
                </div>
                <div class="col-md-6 col-sm-7 deposit_amount_section">
                  <div class="form-group deposit-amount bid-limit">
                    <span class="dollar">$</span>
                    <input type="number" class="form-control" name="listing_deposit_amount" id="listing_deposit_amount" placeholder="Deposit Amount" min="0" onkeypress="return isNumber(event)" value="" maxlength="10" onkeydown="if(this.value.length==10 && event.keyCode!=8) return false;">
                  </div>
                </div>
              </div>

              <div class="clearfix pt10 center">
                <button type="submit" class="btn btn-secondary">Save</button> <button type="button" class="btn btn-primary" onclick="close_listing_setting_popup()">Cancel</button>
              </div>
            </div><!-- End .box -->
            </form>

          </div><!-- End .col-md-10 -->
        </div><!-- End .row -->
        </div>
      </div>
    </div>
  </div><!-- End EditLisingSettingModal -->
<div id="confirmPropertyBidderDeleteModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Delete Confirmation</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p class="font15 center">
                    Are you sure you want to delete?
                  </p>
                  <input type="hidden" id="UserId" value=""/>
                  <input type="hidden" id="auctionId" value=""/>
                  <input type="hidden" id="propertyId" value=""/>
                  <div class="clearfix center" id="deleteBidderBtnSection">
                    <button type="button" class="btn btn-primary del_bidder_btn" id="del_bidder_true">Yes</button><button type="button" class="btn btn-primary-bdr del_bidder_btn" id="del_bidder_false">No</button>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- End .logoutModal -->

<div id="viewofferModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-laptop" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="viewoffer-wrap">
            <div class="offer-main">
              <h5>
                Offers
              </h5>
              <div class="space">
                <div class="table-responsive">
                  <table width="100%" class="table table-scroll offerTable">
                    <thead>
                      <tr>
                        <th>
                          Buyer
                        </th>
                        <th>
                          Offer Amount
                        </th>
                        <th>
                          Date
                        </th>
                        <th>
                          Chat
                        </th>
                        <!--<th>
                          Doc
                        </th>-->
                      </tr>
                    </thead>
                    <tbody id="view_offer_list">
                      <tr>
                        <td>
                          <input type="checkbox" class="css-checkbox" id="search-icon">
                          <label for="search-icon" class="check-label">Edna Rose</label>
                        </td>
                        <td>
                          $45,000
                        </td>
                        <td>
                          2021-03-30<br>16:00
                        </td>
                        <td>
                          <i class="far fa-envelope"></i>
                        </td>
                        <td>
                          <a href="#" class="red-text"><i class="fas fa-download"></i></a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="offerdetail-main" id="offer_details">
              <h5>
                Details
              </h5>
              <div class="bidderrecord-top">
                <figure>
                  <img src="images/upload-banner-1.png" alt="">
                </figure>
                <figcaption>
                  <h6>
                    <span><i class="fas fa-map-marker-alt"></i> </span>
                  </h6>
                  <ul>
                    <li>
                      <span>Listing type:</span>
                    </li>
                  </ul>
                </figcaption>
              </div>
              <div class="space">
                <div class="table-responsive">
                  <table class="offerdetailListtable">
                    <tr>
                      <td>
                        Buyer
                      </td>
                      <td>
                        &nbsp;
                      </td>
                      <td>
                        Phone
                      </td>
                      <td>
                        &nbsp;
                      </td>
                    </tr>
                    <tr>
                      <td>
                        Buyer Email
                      </td>
                      <td>
                        &nbsp;
                      </td>
                      <td>
                        Date
                      </td>
                      <td>
                        &nbsp;
                      </td>
                    </tr>
                  </table>
                </div>
                <!-- <ul class="offerdetailList">
                  <li>
                    <label for="">Buyer:</label>
                  </li>
                  <li>
                    <label for="">Offer:</label>
                  </li>
                  <li>
                    <label for="">Buyer Email:</label>
                  </li>
                  <li>
                    <label for="">Date:</label>
                  </li>
                </ul> -->

                <div class="table-responsive">
                  <table width="100%" class="table table-scroll offerdetailTable">
                    <thead>
                      <tr>
                        <th>
                          User
                        </th>
                        <th>
                          Offer Amount
                        </th>
                        <th>
                          Status
                        </th>
                        <th>
                          Date
                        </th>
                        <th>
                          Message
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>

                        </td>
                        <td>

                        </td>
                        <td>
                          <span class="badge badge-success">

                          </span>
                        </td>
                        <td>

                        </td>
                        <td>
                          <a href="#" class="blue-text"><i class="far fa-eye"></i></a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <!--<p class="font13">
                  By clicking Submit Counter Offer you understand that if the participant accept, <br>
                  your listing will immediately end per the <span class="blue-text">listing agreement.</span>
                </p>-->

                <div class="clearfix">
                <button class="btn btn-green">Accept Offer</button> <button class="btn btn-primary" >Make Counter Offer</button>
                <button class="btn btn-secondary">Decline Offer</button>
                </div>
              </div>-->

            </div>
          </div><!-- End .viewoffer-wrap -->

        </div>
      </div>
    </div>
  </div><!-- End .bidderlistModal -->

  <div id="counterOfferModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Counter Offer</h5>
          <button type="button" class="close" id="close_counter_popup_top">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form name="counter_offer_frm" id="counter_offer_frm" method="post">
          {% csrf_token %}
          <div class="modal-body">
            <input type="hidden" name="property_id" id="counter_property_id" value="" />
            <input type="hidden" name="negotiated_id" id="negotiated_id" value="" />
            <div class="form-group">
              <label for="existing_offer_price" class="pb10">Existing Offer amount</label>
              <input type="text" class="form-control bdr" name="existing_offer_price" id="existing_offer_price" placeholder="Enter Existing Offer Amount" readonly>
            </div>
            <div class="form-group">
              <label for="offer_price" class="pb10">Counter Offer amount</label>
              <input type="text" class="form-control bdr" name="offer_price" id="offer_price" placeholder="Enter Counter Offer amount" maxlength="14">
            </div>
            <div class="form-group">
              <label for="offer_comment" class="pb10">Message</label>
              <textarea name="offer_comment" class="form-control textarea bdr" id="offer_comment" cols="30" rows="4" placeholder="Enter Your Message"></textarea>
            </div>
            <!--<p class="font13">
              By clicking Submit Counter Offer you understand that if the participant accept, <br>
              your listing will immediately end per the <span class="blue-text">listing agreement.</span>
            </p>-->
            <div class="clearfix center">
              <button class="btn btn-secondary">Submit Counter Offer</button> <button type="button" class="btn btn-primary-bdr" id="close_counter_popup">Cancel</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div><!-- End .counterOfferModal -->
<div id="viewMsgHistoryModal" class="modal centered-modal personalModalwrap confirmModalwrap" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Message</h5>
        <button type="button" class="close" id="msg_close_true" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p id="user_msg">

        </p>
        <div class="clearfix center">
          <p>
            <button type="" class="btn btn-secondary confirm_bid_btn" id="msg_true">OK</button>
          </p>
        </div>
      </div>
    </div>
  </div>
  </div>

<div id="confirmRejectOfferModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Reject Confirmation</h5>
                  <button type="button" class="close" id="reject_offer_false_top">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <input type="hidden" name="property_id" id="rej_property_id" value=""/>
                <input type="hidden" name="negotiated_id" id="rej_negotiated_id" value=""/>
                <div class="modal-body">
                  <p class="font15 center">
                    Do you want to Reject Offer?
                  </p>
                  <div class="clearfix center">
                    <button type="button" class="btn btn-primary reject_offer_btn" id="reject_offer_true" onclick="reject_traditional_offer()">Yes</button> <button type="button" data-dismiss="modal" class="btn btn-primary-bdr reject_offer_btn" id="reject_offer_false">No</button>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- End .logoutModal -->
<div id="confirmAcceptOfferModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Accept Confirmation</h5>
                  <button type="button" class="close" id="accept_offer_false_top">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <input type="hidden" name="property_id" id="accept_property_id" value=""/>
                <input type="hidden" name="negotiated_id" id="accept_negotiated_id" value=""/>
                <div class="modal-body">
                  <p class="font15 center">
                    Do you want to Accept Offer?
                  </p>
                  <div class="clearfix center">
                     <button type="button" class="btn btn-primary accept_offer_btn" id="accept_offer_true" onclick="accept_traditional_offer()">Yes</button> <button type="button" data-dismiss="modal" class="btn btn-primary-bdr accept_offer_btn" id="accept_offer_false">No</button>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- End .confirmRejectOfferModal -->
<div id="confirmDeleteLastBidModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-sm" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Delete Confirmation</h5>
                  <button type="button" class="close" id="delete_last_bid_false_top">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <input type="hidden" name="property_id" id="del_bid_property_id" value=""/>
                <div class="modal-body">
                  <p class="font15 center">
                    Do you want to Delete Highest Bid?
                  </p>
                  <div class="clearfix center" id="delete_bid_button_section">
                     <button type="button" class="btn btn-primary delete_last_bid_btn" id="delete_last_bid_true">Yes</button> <button type="button" data-dismiss="modal" class="btn btn-primary-bdr delete_last_bid_btn" id="delete_last_bid_false">No</button>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- End .confirmRejectOfferModal -->
<div id="viewOfferDocumentModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Documents</h5>
          <button type="button" class="close" id="close_offer_doc_popup_top">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
          <div class="modal-body">
            <div class="form-group">
              <ul class="document-list" id="offer_doc_list">

              </ul>

            </div>

            <div class="clearfix center">
               <button type="button" data-dismiss="modal" class="btn btn-primary-bdr" id="close_offer_doc_popup">Close</button>
            </div>
          </div>
      </div>
    </div>
  </div><!-- End .viewOfferDocumentModal -->
<div id="offerChatModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title">Chat</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
      </div>
      <form name="offerChatFrm" id="offerChatFrm" method="post">
          {% csrf_token %}
          <input type="hidden" name="property_id" id="chat_property_id"/>
          <input type="hidden" name="user_id" id="chat_user_id"/>
      <div class="modal-body">
          <div class="form-group">
              <label for="user_message" class="pb10">Enter your message</label>
              <textarea name="user_message" id="user_message" cols="30" rows="10" class="form-control bdr" placeholder="Type a message"></textarea>
          </div>
          <div class="center">
              <button type="submit" class="btn btn-secondary width100">Send</button>
          </div>
      </div>
      </form>
      </div>
  </div>
  </div><!-- End .chatagentModal -->
<div id="sendLoiModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Send LOI</h5>
          <button type="button" class="close" id="close_send_loi_pop_top">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form name="send_loi_frm" id="send_loi_frm" method="post">
          {% csrf_token %}
          <div class="modal-body">
            <input type="hidden" name="property_id" id="loi_property_id" value="" />
            <input type="hidden" name="negotiated_id" id="loi_negotiated_id" value="" />
            <input type="hidden" name="user_id" id="loi_user_id" value="" />

            <div class="form-group">
              <label for="loi_email" class="pb10">Email</label>
              <input type="email" class="form-control bdr" name="loi_email" id="loi_email" placeholder="Enter Email">
            </div>
            <div class="form-group">
              <label for="loi_comment" class="pb10">Message</label>
              <textarea name="loi_comment" class="form-control textarea bdr" id="loi_comment" cols="30" rows="4" placeholder="Enter Your Message"></textarea>
            </div>

            <div class="clearfix center">
              <button type="submit" class="btn btn-secondary">Send</button> <button type="button" data-dismiss="modal" class="btn btn-primary-bdr" id="close_send_loi_pop">Cancel</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div><!-- End .sendLoiModal -->
<div id="insiderbidderrecordModal" class="modal centered-modal personalModalwrap" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-laptop" role="document">
      <input type="hidden" name="insiderBidHistoryPropertyId" id="insiderBidHistoryPropertyId" value=""/>
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="center mb0" id="insider_auction_name">
            Insider Auction
          </h5>
          <div class="bidderrecord-top">
            <figure>
              <img src="images/upload-banner-1.png" alt="" id="insiderBidHistoryPropertyImage">
            </figure>
            <figcaption>
              <h6 id="insiderBidHistoryPropertyName">
                M&T Bank Building
                <span><i class="fas fa-map-marker-alt"></i> Altoona, Pennsylvania</span>
              </h6>
              <ul>
                <li>
                  <span>Auction type:</span> Insider Online Auction
                </li>
                <!--<li>
                  <span>Bid Increment:</span> $300
                </li>-->
              </ul>
            </figcaption>
            <div class="listing-bottom" id="insider_bid_history_search_section">
              <div class="block right">
                <form action="" class="search-field">
                  <div class="search-icon"><i class="fas fa-search"></i></div>
                  <input type="text" class="form-control" name="insider_search_bid_history" id="insider_search_bid_history"><button class="btn btn-primary btn-sm pl20">Search</button>
                </form>
              </div>
              <div class="block last">
                <button class="btn btn-secondary btn-sm pl20"><i class="fas fa-file-export"></i> Export</button>
              </div>
            </div>
          </div>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul class="insider-tabs" id="insider_tab_li_content">
            <li class="tab-link insider_tab_link" data-tab="round-1" id="insider_dutch_btn_li">
              <a href="javascript:void(0)" id="insider_dutch_btn" onclick="propertyInsiderBidHistorySearch('{{ property.id }}' ,1, 'dutch')">
              Round 1 : Dutch Auction
              </a>
            </li>
            <li class="tab-link insider_tab_link" data-tab="round-2" id="insider_sealed_btn_li">
              <a href="javascript:void(0)" id="insider_sealed_btn" onclick="propertyInsiderBidHistorySearch('{{ property.id }}' ,1, 'sealed')">
                Round 2 : Sealed Bid Amount
              </a>
            </li>
            <li class="tab-link insider_tab_link" data-tab="round-3" id="insider_english_btn_li">
              <a href="javascript:void(0)" id="insider_english_btn" onclick="propertyInsiderBidHistorySearch('{{ property.id }}' ,1, 'english')">
                Round 3 : English Auction
              </a>
            </li>
          </ul>

          <div class="table-responsive">
            <div id="round-1" class="tab-content insider_tab_content current">
              <div class="default-table insiderbidderlisttable">
                <div class="block">
                  <div class="item">
                    #
                  </div>
                  <div class="item">
                    Bidder Name
                  </div>
                  <div class="item">
                    User Type
                  </div>
                  <div class="item">
                    Email
                  </div>
                  <div class="item">
                    Phone
                  </div>
                  <div class="item">
                    Starting Bid
                  </div>
                  <div class="item bidamount">
                    Bid Amount
                  </div>
                  <div class="item">
                    IP Address
                  </div>
                  <div class="item">
                    Bidding Start Time
                  </div>
                  <div class="item date-block">
                    Bidding End Time
                  </div>
                </div><!-- End .block -->
                <div class="block sscroll" id="dutchBiddingList">

                </div><!-- End .block -->
              </div><!-- End .create-table -->
            </div><!-- End .round-1 -->

            <div id="round-2" class="tab-content insider_tab_content">
              <div class="default-table insiderbidderlisttable">
                <div class="block">
                  <div class="item">
                    #
                  </div>
                  <div class="item">
                    Bidder Name
                  </div>
                  <div class="item">
                    User Type
                  </div>
                  <div class="item">
                    Email
                  </div>
                  <div class="item">
                    Phone
                  </div>
                  <div class="item">
                    Starting Bid
                  </div>
                  <div class="item bidamount">
                    Bid Amount
                  </div>
                  <div class="item">
                    IP Address
                  </div>
                  <div class="item">
                    Bidding Start Time
                  </div>
                  <div class="item date-block">
                    Bidding End Time
                  </div>
                </div><!-- End .block -->
                <div class="block sscroll" id="sealedBiddingList">

                </div><!-- End .block -->
              </div><!-- End .create-table -->
            </div><!-- End .round-2 -->

            <div id="round-3" class="tab-content insider_tab_content">
              <div class="default-table insiderbidderlisttable">
                <div class="block">
                  <div class="item">
                    #
                  </div>
                  <div class="item">
                    Bidder Name
                  </div>
                  <div class="item">
                    User Type
                  </div>
                  <div class="item">
                    Email
                  </div>
                  <div class="item">
                    Phone
                  </div>
                  <div class="item">
                    Starting Bid
                  </div>
                  <div class="item bidamount">
                    Bid Amount
                  </div>
                  <div class="item">
                    IP Address
                  </div>
                  <div class="item">
                    Bidding Start Time
                  </div>
                  <div class="item date-block">
                    Bidding End Time
                  </div>
                </div><!-- End .block -->
                <div class="block sscroll" id="englishBiddingList">

                </div><!-- End .block -->
              </div><!-- End .create-table -->
            </div><!-- End .round-3 -->

          </div><!-- End .table-responsive -->

          <div class="pagination" id="insiderBidHistoryPagination">
            <ul id="insiderBidHistoryPaginationList">
            </ul>
          </div><!-- End .pagination -->

        </div>
        
      </div>
    </div>
  </div><!-- End .bidderrecordModal -->

  <div id="connectchatModal" class="modal centered-modal personalModalwrap connectchatModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Connect</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12 col-sm-12">
              <div class="chat-list">
<!--                <ul>-->
<!--                  <li>-->
<!--                    <div class="chat-align lft-chat">-->
<!--                      <figure>-->
<!--                        <img src="https://realtyonegroup.s3.us-west-1.amazonaws.com/profile_image/1634199426.8252876_9.jpeg" alt="">-->
<!--                      </figure>-->
<!--                      <figcaption>-->
<!--                        <p>Hey Gautam</p>-->
<!--                      </figcaption>-->
<!--                    </div>-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <div class="chat-align rgt-chat">-->
<!--                      <figcaption>-->
<!--                        <p>Hey Gautam</p>-->
<!--                      </figcaption>-->
<!--                      <figure>-->
<!--                        <img src="https://realtyonegroup.s3.us-west-1.amazonaws.com/profile_image/1634199426.8252876_9.jpeg" alt="">-->
<!--                      </figure>-->
<!--                    </div>-->
<!--                  </li>-->
<!--                </ul>-->
              </div>
              <div class="chat-fixed">
                <input type="hidden" name="agent_id" id="agent_id" value="">
                <ul>
                  <li>
                    <textarea name="chat_message_input" id="chat_message_input" placeholder="Type a message" onkeyup="send_msg_to_agent_validation();"></textarea>
                  </li>
                  <li>
                    <button id="send_msg_to_agent_validation" class="btn btn-secondary" disabled="disabled" onclick="send_message_to_agent();">Send</button>
                  </li>
                </ul>
                
              </div>
            </div><!-- End .col-md-10 -->
          </div><!-- End .row -->
        </div>
      </div>
    </div>
  </div><!-- End .connectchatModal -->


<div class="overlay" style="display:none;">
              <div class="loader">Loading...</div>
            </div>
{% endblock %}
{% block js_content %}
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script type="text/javascript" src="{% static 'admin/js/tableHeadFixer.js' %}?v=1.1"></script>
    <script type="text/javascript" src="{% static 'admin/js/mask_input.js' %}"></script>
    <script type="text/javascript" src="{% static 'admin/js/custom.js' %}?v=1.1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
    <script type="text/javascript" src="{% static 'admin/js/jquery.blockUI.js' %}"></script>
    <script type="text/javascript" src="{% static 'admin/js/custom_validator.js' %}?v=2.3"></script>
    <script type="text/javascript" src="{% static 'admin/js/jquery.growl.js' %}"></script>
    <script type="text/javascript" src="{% static 'admin/js/pagination.js' %}?v=1.0"></script>
    <script type="text/javascript" src="{% static 'admin/js/autosuggestion.js' %}?v=2.0"></script>
    <script type="text/javascript" src="{% static 'admin/js/custom_js.js' %}?v=6.2"></script>
<script type="text/javascript" src="{% static 'admin/js/properties.js' %}?v=6.4"></script>
<script type="text/javascript" src="{% static 'admin/js/dropzone.js' %}"></script>
<script type="text/javascript" src="{% static 'admin/js/custom_dropzone.js' %}?v=3.1"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tour/0.11.0/js/bootstrap-tour.js"></script>
<script type="text/javascript" src="{% static 'admin/js/listing_tour.js' %}?v=3.1"></script>

<script>
    var is_first_login = {{request.session.is_first_admin_login}};
    //getresult('prop_listing', 1, '', '', '');
    $('.select').chosen();
</script>
{% endblock %}